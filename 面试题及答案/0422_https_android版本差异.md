### 一、什么是https, 和http的区别是什么？

HTTP：超文本传输协议
HTTPS：安全套接字层超文本传输协议
HTTPS在HTTP的基础上加入了SSL协议，SSL依靠证书来验证服务器的身份，并为浏览器和服务器之间的通信加密。

HTTP 协议是以明文方式发送信息的

① 客户端的浏览器首先要通过网络与服务器建立连接，该连接是通过 TCP 来完成的，一般 TCP 连接的端口号是80。建立连接后，客户机发送一个请求给服务器，请求方式的格式为：统一资源标识符（URI）、协议版本号，后边是 MIME 信息包括请求修饰符、客户机信息和许可内容。

② 服务器接到请求后，给予相应的响应信息，其格式为一个状态行，包括信息的协议版本号、一个成功或错误的代码，后边是 MIME 信息包括服务器信息、实体信息和可能的内容。

HTTPS：是以安全为目标的 HTTP 通道，是 HTTP 的安全版。HTTPS 的安全基础是 SSL。SSL 协议位于 TCP/IP 协议与各种应用层协议之间，为数据通讯提供安全支持。SSL 协议可分为两层：SSL 记录协议（SSL Record Protocol），它建立在可靠的传输协议（如TCP）之上，为高层协议提供数据封装、压缩、加密等基本功能的支持。SSL 握手协议（SSL Handshake Protocol），它建立在 SSL 记录协议之上，用于在实际的数据传输开始前，通讯双方进行身份认证、协商加密算法、交换加密密钥等。

![img](https://pic4.zhimg.com/80/v2-356b87a698ebf9fac33651d0f191b9ef_1440w.webp)

**HTTPS 设计目标：**

(1) 数据保密性：保证数据内容在传输的过程中不会被第三方查看。就像快递员传递包裹一样，都进行了封装，别人无法获知里面装了什么 。

(2) 数据完整性：及时发现被第三方篡改的传输内容。就像快递员虽然不知道包裹里装了什么东西，但他有可能中途掉包，数据完整性就是指如果被掉包，我们能轻松发现并拒收 。

(3) 身份校验安全性：保证数据到达用户期望的目的地。就像我们邮寄包裹时，虽然是一个封装好的未掉包的包裹，但必须确定这个包裹不会送错地方，通过身份校验来确保送对了地方 。

### HTTP和HTTPS的区别：

1、https协议需要到ca申请证书，一般免费证书较少，因而需要一定费用。

2、http是超文本传输协议，信息是明文传输，https则是具有安全性的ssl加密传输协议。

3、http和https使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443。

4、http的连接很简单，是无状态的；HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，比http协议安全。






### 二、Android各版本的差异（5.0-13）

- Android5.X

  1. 对64位系统的支持，兼容32位
  2. material design（材料设计）扁平化风格
  3. 新增浮动通知
  4. 即时编译JIT->预先编译AOT。在用户安装App是进行预编译AOT（Ahead-of-time），而非之前的Dalvike虚拟机的JIT（just-in-time）。程序运行速度得到了提升，缺点是安装速度变慢了，而且需要更多的设备存储空间。
  5. 添加了对同时使用多个蜂窝运营商SIM卡的支持

- Android 6.X

  1. 动态权限

- Android 7.X

  1. 多窗口支持（或者叫分屏功能）

  2. 更便捷的通知栏，自动将多条通知合并，可以直接回复通知

  3. 快速的应用安装路径，只需几秒钟就可以完成安装。

  4. 权限更改，面向Android 7.0或更高版本的应用私有目录被限制访问。(类似ios的沙盒机制)

  5. JIT/AOT编译共存（Just In Time, Adead of Time）

  6. 改进的java8语言支持（如stream在api>=24可用）

     ```
     Android 7.0上，JIT 编译器被再次使用，采用AOT/JIT 混合编译的策略，特点是：
     
     应用在安装的时候dex不会再被编译
     App运行时,dex文件先通过解析器被直接执行，热点函数会被识别并被JIT编译后存储在 jit code cache 中并生成profile文件以记录热点函数的信息。
     手机进入 IDLE（空闲） 或者 Charging（充电） 状态的时候，系统会扫描 App 目录下的 profile 文件并执行 AOT 过程进行编译。
     ```

- Android 8.X

  1. 安装未知来源的第三方开关被移出，变成了每次安装未知的第三方都要手动授权

  2. 通知功能的改变，应用收到通知时，会在应用的右上角显示一个红点，长按会跳出一个弹出菜单。

  3. 画中画功能的加入（多窗口的升级）

  4. 通知渠道 - Notification Channels

  5. 后台执行限制

     ​    ①、后台service限制；

     ​    ②、广播限制：除了有限的例外情况，应用无法使用清单注册隐式广播；

  6. 自动填充框架、自动调整TextView的大小、WebView API、多显示器支持

- Android 9.X

  1. DNS over TLS: 是一个通过传输层安全协议（TLS）来加密并打包域名系统（DNS）的安全协议。此协议设计目的是为了防止中间人攻击与控制DNS数据以增强用户隐私。

  2. 屏缺口支持（刘海屏）。全新的手势操作界面，不带返回键和多任务键

  3. GPS定位之外的WiFi定位，增加了平台级支持IEEE 802.11 mc Wi-Fi协议，让开发者可在App中使用室内定位

  4. JobScheduler

  5. Neural Networks（神经网络）

  6. 安全方面的加强

  7. 无障碍功能框架的增强

  8. 前台服务 

     ```java
     <use-permission android:name="android.permission.FOREGROUND_SERVICE"/>
     ```

  9. 不能直接非 Activity 环境中（比如Service，Application）启动 Activity，否则会崩溃报错。

     这类问题一般会在点击推送消息跳转页面这类场景，解决方法就是 Intent 中添加标志
     FLAG_ACTIVITY_NEW_TASK.

  10. 动画（引入AnimatedImageDrawable类，用于显示GIF和WebP动画图像）;

- Android 10

  1. 连接权限、隐私和安全性：对于蓝牙、蜂窝网络和Wi-Fi连接，需要FINE位置权限
  2. 支持可折叠屏幕的增强功能
  3. 增强的隐私和安全功能
  4. 全新媒体编码解码器
  5. 全新摄像头功能
  6. 暗黑主题；
  7. 手势导航（全面屏手势操作）
  8. Android Q 在外部存储设备中为每个应用提供了一个“隔离存储沙盒”（例如 /sdcard）。任何其他应用都无法直接访问您应用的沙盒文件。由于文件是您应用的私有文件，因此您不再需要任何权限即可在外部存储设备中访问和保存自己的文件。此变更可让您更轻松地保证用户文件的隐私性，并有助于减少应用所需的权限数量。
     

- Android 11

  更详细的参考：https://zhuanlan.zhihu.com/p/556820764?utm_id=0 

  1. 

- Android 12

  Android 12 重新发现了代号为 “Columbus”的功能，并且优化了触发问题，新的手势需要更加用力敲击背面。新的双击背面手势可以截取屏幕截图、召唤谷歌 Assistant、打开通知栏、控制媒体播放或打开最近的应用程序列表 - 2021年；

  1、AVIF图像支持

  为了为您提供更高的图像质量和更有效的压缩，Android 12引入了对AV1图像文件格式（AVIF）的平台支持。AVIF是用于使用AV1编码的图像和图像序列的容器格式。与其他现代图像格式一样，AVIF利用了视频压缩中的帧内编码内容。与JPEG等较旧的图像格式相比，这可以显着提高相同文件大小的图像质量；

  AVIF（18.2kB）JPEG（20.7kB）

  2、前台服务优化（后台应用无法再启动前台服务）；

  前台服务是应用程序管理某些类型的面向用户任务的重要方式，但是如果过度使用，它们可能会影响性能，甚至导致应用程序中断。为了确保为用户带来更好的体验，对于以新平台为目标的应用，我们将从后台阻止前台服务启动。为了更轻松地从此模式过渡，我们在JobScheduler中引入了一个新的加急作业，该作业获得了较高的进程优先级，网络访问权限，并且可以在不考虑节电或节电的情况下立即运行。为了实现向后兼容，我们还在最新版本的Jetpack WorkManager库中内置了加急作业。。另外，为了减少用户的注意力，我们现在将某些前台服务通知的显示延迟最多10秒钟。这使短暂的任务有机会在显示通知之前完成；

  3、原生的ImageDecoder支持GIF和WebP格式；

  4、支持圆角（Display.getRounderCorner()获取屏幕圆角的详细信息）；

  5、更易用的模糊、色彩滤镜等特效（View.setRenderEffect(RenderEffect) 将特效直接应用于视图）；

  6、限制对MAC地址的访问；

  7、应用覆盖控制：

  可以控制是否允许在自己的内容上显示这些覆盖图层，调用Window#setHideOverlayWindows()，表明不允许TYPE_APPLICATION_OVERLAY的窗口显示；

  8、应用无法关闭系统对话框（弃用了 ACTION_CLOSE_SYSTEM_DIALOGS intent 操作）；

  9、Activity/BroadcastReciver/Service 声明了Filter，则必须显示设置android:exported属性；

  10、必须为每个PendingIntent设置可变性；

- Android 13

  1. 通知权限的变更。（需要在xml中声明权限、运行时用户授权等）
  2. WiFi权限变更（如果应用在Android13上只使用WiFi API而不使用位置信息，那开发者可以在AndroidManifest.xml中增加NEARBY_WIFI_DEVICES权限，并将usesPermissionFlags属性设为neverForLocation，给ACCESS_FINE_LOCATION权限增加maxSdkVersion="32"的限制）
  3. 更细分的媒体权限
  4. 精确的闹钟权限
  5. 后台的传感器权限（App在后台运行时，如果需要获取心率、体温、血氧饱和度等传感器信息，将不仅需要向用户申请现有的BODY_SENSORS权限，还必须声明新的BODY_SENSORS_BACKGROUND权限。）





